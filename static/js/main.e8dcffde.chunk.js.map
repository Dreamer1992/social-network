{"version":3,"sources":["components/common/Preloader/Preloader.module.css","assets/images/preloader.gif","components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Posts/Post/Post.module.css","serviceWorker.js","api/api.js","redux/profileReducer.js","redux/dialogsReducer.js","redux/sidebarReducer.js","redux/usersReducer.js","redux/authReducer.js","redux/appReducer.js","redux/reduxStore.js","components/Sidebar/Sidebar.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.jsx","components/Dialogs/DialogsContainer.jsx","components/common/Pagination/Pagination.jsx","components/Users/Users.jsx","components/common/Preloader/Preloader.jsx","components/Users/UsersContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHook.jsx","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/AddNewPostForm/AddNewPostForm.jsx","components/Profile/Posts/Posts.jsx","components/Profile/Posts/PostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/LoginForm/LoginForm.jsx","components/Login/Login.jsx","App.js","index.js","assets/images/default_avatar.png","components/common/FormsControls/FormsControls.module.css","components/Sidebar/Sidebar.module.css","components/Users/Users.module.css","components/Profile/Posts/Posts.module.css","components/Dialogs/Dialogs.module.css","components/Header/Header.module.css","components/common/Pagination/Pagination.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","instance","axios","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","userId","delete","follow","post","getUserProfile","console","warn","profileAPI","getUserStatus","updateUserStatus","status","put","authAPI","email","password","rememberMe","initialState","posts","id","message","like","newPostText","profile","setUserStatus","type","profileReducer","state","action","newPost","filter","p","postId","dialogs","name","messages","dialogsReducer","text","newMessageText","sidebarReducer","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","map","u","followed","count","login","isAuth","setAuthUserData","payload","getAuthUserData","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","app","auth","form","formReducer","store","createStore","applyMiddleware","ThunkMiddleware","Sidebar","className","styles","to","activeClassName","activeLink","DialogItem","props","dialogItem","Message","FormControl","input","meta","hasError","touched","error","formControl","children","textError","Textarea","restProps","Input","required","value","maxLengthCreator","maxLength","length","maxLength50","reduxForm","onSubmit","handleSubmit","Field","component","rows","placeholder","validate","Dialogs","dialogsElements","dialog","key","messagesElements","dialogItems","values","sendMessageCreator","mapStateToPropsForRedirect","compose","connect","Component","RedirectComponent","this","React","Pagination","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","onClick","page","selectedPage","e","Users","user","userItem","userPhotoWrapper","userPhoto","src","photos","small","alt","disabled","some","userItemInfo","Preloader","preloaderWrapper","preloader","UsersComponent","pageNumber","setCurrentPage","bind","items","totalCount","ProfileStatusWithHook","editMode","setEditMode","setStatus","useEffect","autoFocus","onBlur","onChange","currentTarget","onDoubleClick","ProfileInfo","profileAvatar","large","defaultAvatar","fullName","Post","myPhoto","maxLength10","row","btn","Posts","memo","postsElements","postTextarea","addPost","PostsContainer","addPostActionCreator","Profile","ProfileContainer","params","authorizedUserId","history","withRouter","Header","header","headerLogo","headerAuth","logout","HeaderContainer","loginError","stopSubmit","_error","formData","App","initializeApp","path","render","DialogsContainer","UsersContainer","promise","Promise","all","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.e8dcffde.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderWrapper\":\"Preloader_preloaderWrapper__3-Lwp\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.fd3051a6.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1ZuET\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileTopBg\":\"ProfileInfo_profileTopBg__3et6T\",\"profileAvatar\":\"ProfileInfo_profileAvatar__2uvdS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__364Kw\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'api-key': '5c0f0a90-5afa-4259-9e1c-ae6776e803f5'\r\n  }\r\n});\r\n\r\nexport const userAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => {\r\n        return response.data;\r\n      })\r\n  },\r\n\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n\r\n  getUserProfile(userId) {\r\n    console.warn('Obsolete method. Please use profileAPI object');\r\n    return profileAPI.getUserProfile(userId);\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getUserProfile(userId) {\r\n    return instance.get(`profile/${userId}`)\r\n      .then(response => {\r\n        return response.data;\r\n      })\r\n  },\r\n\r\n  getUserStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`);\r\n  },\r\n\r\n  updateUserStatus(status) {\r\n    return instance.put(`profile/status`, {status: status});\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`)\r\n      .then(response => {\r\n        return response.data;\r\n      });\r\n  },\r\n\r\n  login(email, password, rememberMe) {\r\n    return instance.post(`auth/login`, {email, password, rememberMe});\r\n  },\r\n\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  }\r\n}","import {profileAPI, userAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {id: 1, message: 'Hi, how are you?', like: 10},\r\n    {id: 2, message: 'It\\'s my first post', like: 17}\r\n  ],\r\n  newPostText: 'it-kamasutra',\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 6,\r\n        message: action.newPostText,\r\n        like: 0\r\n      };\r\n      return {\r\n        ...state,\r\n        newPostText: '',\r\n        posts: [...state.posts, newPost]\r\n      }\r\n    }\r\n    case DELETE_POST:\r\n      return {...state, posts: state.posts.filter(p => p.id !== action.postId)}\r\n    case SET_USER_PROFILE:\r\n      return {...state, profile: action.profile}\r\n    case SET_USER_STATUS:\r\n      return {...state, status: action.status}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status})\r\n\r\nexport const getUserProfile = (userId) => {\r\n  return (dispatch) => {\r\n    userAPI.getUserProfile(userId).then(data => {\r\n      dispatch(setUserProfile(data));\r\n    })\r\n  }\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getUserStatus(userId);\r\n\r\n  dispatch(setUserStatus(response.data));\r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n  let response = await profileAPI.updateUserStatus(status);\r\n\r\n  if (response.data.resultCode === 0) {\r\n    return dispatch(setUserStatus(status))\r\n  }\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {id: 1, name: 'Alex'},\r\n    {id: 2, name: 'Petr'},\r\n    {id: 3, name: 'Igor'},\r\n    {id: 4, name: 'Lera'},\r\n    {id: 5, name: 'Nina'}\r\n  ],\r\n  messages: [\r\n    {id: 1, message: 'Hi'},\r\n    {id: 2, message: 'How are you?'},\r\n    {id: 3, message: 'Yo'},\r\n  ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let text = action.newMessageText;\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, {id: 4, message: text}]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageText) => ({type: SEND_MESSAGE, newMessageText})\r\n\r\nexport default dialogsReducer;","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {userAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return {...u, followed: true}\r\n          }\r\n          return u;\r\n        })\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return {...u, followed: false}\r\n          }\r\n          return u;\r\n        })\r\n      }\r\n    case SET_USERS:\r\n      return {...state, users: [...action.users]}\r\n    case SET_CURRENT_PAGE:\r\n      return {...state, currentPage: action.currentPage}\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {...state, totalUsersCount: action.count}\r\n    case TOGGLE_IS_FETCHING:\r\n      return {...state, isFetching: action.isFetching}\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId\r\n})\r\n\r\nexport const getUsers = (currentPage, pageSize) => async dispatch => {\r\n  dispatch(toggleIsFetching(true));\r\n\r\n  let response = await userAPI.getUsers(currentPage, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(setUsers(response.items));\r\n  dispatch(setTotalUsersCount(response.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let response = await apiMethod(userId);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => async dispatch => {\r\n  followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSuccess);\r\n}\r\n\r\nexport const unfollow = (userId) => async dispatch => {\r\n  followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSuccess);\r\n}\r\n\r\nexport default usersReducer;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: {userId, email, login, isAuth}\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let response = await authAPI.me();\r\n\r\n  if (response.resultCode === 0) {\r\n    let {id, login, email} = response.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async dispatch => {\r\n  let response = await authAPI.login(email, password, rememberMe);\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    let message = response.data.messages.length > 0 ? response.data.messages['0'] : 'Some error';\r\n    dispatch(stopSubmit('login', {_error: message}));\r\n  }\r\n}\r\n\r\nexport const logout = () => async dispatch => {\r\n  let response = await authAPI.logout();\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n}\r\n\r\nexport default authReducer;","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData());\r\n\r\n  Promise.all([promise])\r\n    .then(() => {\r\n      dispatch(initializedSuccess());\r\n    });\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport profileReducer from './profileReducer';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from './usersReducer';\r\nimport appReducer from \"./appReducer\";\r\nimport authReducer from './authReducer';\r\nimport ThunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  app: appReducer,\r\n  auth: authReducer,\r\n  form: formReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(ThunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport styles from './Sidebar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Sidebar = () => {\r\n  return (\r\n    <nav className={styles.sidebar}>\r\n      <ul>\r\n        <li><NavLink to=\"/profile\" activeClassName={styles.activeLink}>Profile</NavLink></li>\r\n        <li><NavLink to=\"/dialogs\" activeClassName={styles.activeLink}>Messages</NavLink></li>\r\n        <li><NavLink to='/users' activeClassName={styles.activeLink}>Users</NavLink></li>\r\n        {/*<li><NavLink to='/users' activeClassName={styles.activeLink}>News</NavLink></li>*/}\r\n        {/*<li><NavLink to='/users' activeClassName={styles.activeLink}>Music</NavLink></li>*/}\r\n        {/*<li><NavLink to='/users' activeClassName={styles.activeLink}>Setting</NavLink></li>*/}\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport styles from './DialogItem.modules.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n  return (\r\n    <div className={styles.dialogItem}>\r\n      <NavLink to={'/dialogs/' + props.id}>{props.name}</NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\n\r\nconst Message = (props) => {\r\n  return (\r\n    <div>{props.message}</div>\r\n  )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport styles from './FormsControls.module.css';\r\n\r\nexport const FormControl = ({input, meta, ...props}) => {\r\n  const hasError = meta.touched && meta.error;\r\n\r\n  return (\r\n    <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n      <div>\r\n        {props.children}\r\n      </div>\r\n      {hasError && <div className={styles.textError}>{meta.error}</div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  const {input, meta, ...restProps} = props;\r\n\r\n  return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n  const {input, meta, ...restProps} = props;\r\n\r\n  return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}","export const required = value => {\r\n  if (value) return undefined;\r\n\r\n  return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n  return undefined;\r\n}","import React from 'react';\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field component={Textarea}\r\n             name='newMessageText'\r\n             rows='3'\r\n             placeholder='Enter your message'\r\n             validate={[required, maxLength50]}\r\n      />\r\n      <div>\r\n        <button>Send</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm);","import React from 'react';\r\nimport styles from './Dialogs.module.css';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport AddMessageForm from \"./AddMessageForm/AddMessageForm\";\r\n\r\nconst Dialogs = (props) => {\r\n  let state = props.dialogsPage;\r\n\r\n  let dialogsElements = state.dialogs.map(dialog => <DialogItem key={dialog.id} name={dialog.name} id={dialog.id}/>);\r\n  let messagesElements = state.messages.map(message => <Message key={message.id} message={message.message}\r\n                                                                id={message.id}/>);\r\n\r\n  let addNewMessage = (values) => {\r\n    props.sendMessageCreator(values.newMessageText);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.dialogs}>\r\n      <div className={styles.dialogItems}>\r\n        {dialogsElements}\r\n      </div>\r\n\r\n      <div className={styles.messages}>\r\n        <div>{messagesElements}</div>\r\n        <div>\r\n          <div>\r\n            <AddMessageForm onSubmit={addNewMessage}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to='/login'/>\r\n\r\n      return <Component {...this.props}/>\r\n    }\r\n  }\r\n\r\n  let connectAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return connectAuthRedirectComponent;\r\n}","import {connect} from 'react-redux';\r\nimport {sendMessageCreator} from \"../../redux/dialogsReducer\";\r\nimport Dialogs from './Dialogs';\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessageCreator: (newMessageText) => {\r\n      dispatch(sendMessageCreator(newMessageText))\r\n    }\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withAuthRedirect\r\n)(Dialogs)","import React, {useState} from 'react';\r\nimport styles from './Pagination.module.css';\r\n\r\nconst Pagination = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={styles.pagination}>\r\n      {portionNumber > 1 &&\r\n      <button onClick={() => {\r\n        setPortionNumber(portionNumber - 1)\r\n      }}>PREV</button>}\r\n\r\n      {pages\r\n        .filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n        .map(page => {\r\n          return <span className={currentPage === page && styles.selectedPage} key={page} onClick={(e) => {\r\n            onPageChanged(page);\r\n          }}>{page}</span>\r\n        })}\r\n\r\n      {portionCount > portionNumber &&\r\n      <button onClick={() => {\r\n        setPortionNumber(portionNumber + 1)\r\n      }}>NEXT</button>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pagination;","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport userPhoto from '../../assets/images/default_avatar.png';\r\nimport {NavLink} from 'react-router-dom';\r\nimport Pagination from '../common/Pagination/Pagination';\r\n\r\nlet Users = (props) => {\r\n  return <div>\r\n    <Pagination totalItemsCount={props.totalUsersCount}\r\n                pageSize={props.pageSize}\r\n                currentPage={props.currentPage}\r\n                onPageChanged={props.onPageChanged}\r\n    />\r\n    {\r\n      props.users.map(user => <div key={user.id} className={styles.userItem}>\r\n        <div>\r\n          <div className={styles.userPhotoWrapper}>\r\n            <NavLink to={'/profile/' + user.id}>\r\n              <img className={styles.userPhoto}\r\n                   src={user.photos.small !== null ? user.photos.small : userPhoto}\r\n                   alt={user.name}/>\r\n            </NavLink>\r\n          </div>\r\n          {user.followed\r\n            ? <button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {\r\n              props.unfollow(user.id);\r\n            }}>Unfollow</button>\r\n            : <button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {\r\n              props.follow(user.id);\r\n            }}>Follow</button>\r\n          }\r\n        </div>\r\n        <div className={styles.userItemInfo}>\r\n          <div>\r\n            <div>{user.name}</div>\r\n            <div>{user.status}</div>\r\n          </div>\r\n          <div>\r\n            <div>{'user.location.country'}</div>\r\n            <div>{'user.location.cityName'}</div>\r\n          </div>\r\n        </div>\r\n      </div>)\r\n    }\r\n  </div>\r\n}\r\n\r\nexport default Users;","import React from 'react';\r\nimport styles from './Preloader.module.css';\r\nimport preloader from '../../../assets/images/preloader.gif';\r\n\r\nlet Preloader = (props) => {\r\n  return (\r\n    <div className={styles.preloaderWrapper}>\r\n      <img src={preloader} alt=\"Loading\"/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n  follow,\r\n  getUsers,\r\n  setCurrentPage,\r\n  toggleFollowingProgress,\r\n  unfollow\r\n} from '../../redux/usersReducer';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nclass UsersComponent extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.setCurrentPage(pageNumber);\r\n    this.props.getUsers(pageNumber, this.props.pageSize);\r\n  }\r\n\r\n  render() {\r\n    return <>\r\n      {this.props.isFetching ? <Preloader/> : null}\r\n      <Users totalUsersCount={this.props.totalUsersCount}\r\n             pageSize={this.props.pageSize}\r\n             currentPage={this.props.currentPage}\r\n             onPageChanged={this.onPageChanged}\r\n             users={this.props.users}\r\n             follow={this.props.follow}\r\n             unfollow={this.props.unfollow}\r\n             followingInProgress={this.props.followingInProgress}\r\n      />\r\n    </>\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: state.usersPage.users,\r\n    pageSize: state.usersPage.pageSize,\r\n    totalUsersCount: state.usersPage.totalUsersCount,\r\n    currentPage: state.usersPage.currentPage,\r\n    isFetching: state.usersPage.isFetching,\r\n    followingInProgress: state.usersPage.followingInProgress\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers\r\n})(UsersComponent);","import React, {useEffect, useState} from 'react';\r\n\r\nconst ProfileStatusWithHook = (props) => {\r\n  let [editMode, setEditMode] = useState(false);\r\n\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status])\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  }\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateUserStatus(status);\r\n  }\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {!editMode\r\n        ? <div>\r\n          <span onDoubleClick={activateEditMode}>{props.status || 'Write the status'}</span>\r\n        </div>\r\n        : <div>\r\n          <input type=\"text\"\r\n                 autoFocus={true}\r\n                 onBlur={deactivateEditMode}\r\n                 onChange={onStatusChange}\r\n                 value={status}/>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatusWithHook;","import React from 'react';\r\nimport styles from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport defaultAvatar from '../../../assets/images/default_avatar.png';\r\nimport ProfileStatusWithHook from \"./ProfileStatusWithHook\";\r\n\r\nconst ProfileInfo = (props) => {\r\n  if (!props.profile) {\r\n    return <Preloader/>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/*<div className={styles.profileTopBg}>*/}\r\n      {/*  <img src={profileTopBg} alt=''/>*/}\r\n      {/*</div>*/}\r\n      <div className={styles.profileAvatar}>\r\n        <img src={props.profile.photos.large ? props.profile.photos.large : defaultAvatar} alt=\"\"/>\r\n        <ProfileStatusWithHook status={props.status} updateUserStatus={props.updateUserStatus}/>\r\n        <p>{props.profile.fullName}</p>\r\n        ava + description\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport styles from './Post.module.css';\r\nimport myPhoto from '../../../../assets/images/default_avatar.png';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={styles.post}>\r\n      <img\r\n        src={myPhoto}\r\n        alt=\"\"/>\r\n      <span>{props.message}</span>\r\n      <div>Like {props.like}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;","import React from \"react\";\r\nimport {maxLengthCreator, required} from \"../../../../utils/validators/validators\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../../common/FormsControls/FormsControls\";\r\nimport styles from \"../Posts.module.css\";\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field component={Textarea}\r\n             name={'newPostText'}\r\n             row='2'\r\n             value={props.newPostText}\r\n             validate={[required, maxLength10]}\r\n      />\r\n      <button className={styles.btn}>Add post</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({form: 'addNewPost'})(AddNewPostForm);","import React from 'react';\r\nimport styles from './Posts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport AddNewPostForm from \"./AddNewPostForm/AddNewPostForm\";\r\n\r\nconst Posts = React.memo(\r\n  (props) => {\r\n\r\n    let postsElements = props.posts.map(post => <Post key={post.id} id={post.id} message={post.message}\r\n                                                      like={post.like}/>);\r\n\r\n    let onAddPost = (values) => {\r\n      props.addPost(values.newPostText);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h3>My posts</h3>\r\n\r\n        <div className={styles.postTextarea}>\r\n          <div>\r\n            <AddNewPostForm onSubmit={onAddPost}/>\r\n          </div>\r\n        </div>\r\n\r\n        {postsElements}\r\n      </div>\r\n    )\r\n  }\r\n)\r\n\r\nexport default Posts;","import {addPostActionCreator} from \"../../../redux/profileReducer\";\r\nimport Posts from \"./Posts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText));\r\n    }\r\n  }\r\n}\r\n\r\nlet PostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\n\r\nexport default PostsContainer;","import React from 'react';\r\nimport styles from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport PostsContainer from \"./Posts/PostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <main className={styles.profile}>\r\n      <ProfileInfo profile={props.profile} status={props.status} updateUserStatus={props.updateUserStatus}/>\r\n      <PostsContainer/>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from 'react-redux';\r\nimport {getUserProfile, getUserStatus, updateUserStatus} from '../../redux/profileReducer';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      if(!userId) {\r\n        this.props.history.push('/login');\r\n      }\r\n    }\r\n\r\n    this.props.getUserProfile(userId);\r\n    this.props.getUserStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile {...this.props}\r\n               profile={this.props.profile}\r\n               status={this.props.status}\r\n               updateUserStatus={this.props.updateUserStatus}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {getUserProfile, getUserStatus, updateUserStatus})\r\n)(ProfileContainer);","import React from \"react\";\r\nimport styles from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.headerLogo}>\r\n        <img src=\"https://sun9-58.userapi.com/c637526/v637526465/46948/MYX-VzYtTnU.jpg?ava=1\" alt=\"logo\"/>\r\n      </div>\r\n      <div className={styles.headerAuth}>\r\n        {props.isAuth\r\n          ? <div>{props.login} <button onClick={props.logout}>Log out</button></div>\r\n          : <NavLink to={'/login'}>Login</NavLink>\r\n        }\r\n\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return (\r\n      <Header {...this.props}/>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {required} from '../../../utils/validators/validators';\r\nimport {Input} from '../../common/FormsControls/FormsControls';\r\nimport styles from './../../common/FormsControls/FormsControls.module.css';\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field component={Input}\r\n               name='email'\r\n               placeholder='Email'\r\n               validate={[required]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field component={Input}\r\n               type='password'\r\n               name='password'\r\n               placeholder='Password'\r\n               validate={[required]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field component={Input}\r\n               type={'checkbox'}\r\n               name='rememberMe'\r\n        /> remember me\r\n      </div>\r\n      {\r\n        props.error && <div className={styles.loginError}>\r\n          {props.error}\r\n        </div>\r\n      }\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({form: 'login'})(LoginForm);\r\n\r\n","import React from 'react';\r\nimport LoginForm from \"./LoginForm/LoginForm\";\r\nimport {login} from \"../../redux/authReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe);\r\n  }\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile'}/>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>LOGIN</h1>\r\n      <LoginForm onSubmit={onSubmit}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\r\nimport './App.css';\r\nimport {Route, withRouter} from 'react-router-dom';\r\nimport Sidebar from './components/Sidebar/Sidebar';\r\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Login from './components/Login/Login';\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/appReducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n\r\n    if (!this.props.initialized) {\r\n      return <Preloader/>\r\n    }\r\n\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer/>\r\n        <Sidebar/>\r\n        <div className='app-content'>\r\n          <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n          <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n          <Route path='/users' render={() => <UsersContainer/>}/>\r\n          <Route path='/login' render={() => <Login/>}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {initializeApp})\r\n)(App);\r\n","import * as serviceWorker from './serviceWorker';\r\nimport store from \"./redux/reduxStore\";\r\nimport './index.css';\r\nimport ReactDOM from \"react-dom\";\r\nimport React from \"react\";\r\nimport App from \"./App\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <App/>\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/default_avatar.414267b2.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3e6x7\",\"error\":\"FormsControls_error__3A9M9\",\"textError\":\"FormsControls_textError__ri3fK\",\"loginError\":\"FormsControls_loginError__22ZeV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__14grV\",\"activeLink\":\"Sidebar_activeLink__1eUV0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhotoWrapper\":\"Users_userPhotoWrapper__PaKV7\",\"userPhoto\":\"Users_userPhoto__2R5lm\",\"userItem\":\"Users_userItem__2Wgve\",\"userItemInfo\":\"Users_userItemInfo__3cMMX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Posts_profile__3NpXC\",\"postTextarea\":\"Posts_postTextarea__3L_pb\",\"btn\":\"Posts_btn__14HxX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3A4Ud\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3ga9x\",\"headerLogo\":\"Header_headerLogo__3o7L2\",\"headerAuth\":\"Header_headerAuth__VHTsE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__3yhvl\",\"selectedPage\":\"Pagination_selectedPage__3o_Ew\"};"],"sourceRoot":""}